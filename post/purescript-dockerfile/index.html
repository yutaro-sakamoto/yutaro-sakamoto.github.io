<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.82.0"><title>Purescript環境構築用Dockerfile - 技術・数学に関することを書いていきます</title><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto"><link href=https://yutaro-sakamoto.github.io//css/bootstrap.min.css rel=stylesheet><link href=https://yutaro-sakamoto.github.io//css/strange-case.css rel=stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link href rel=alternate type=application/rss+xml title=坂本優太郎の備忘録></head><body class=scheme-darkbrown><div class=container-fluid><div class=row><div class="col-sm-4 col-md-3 col-lg-3 sidebar"><div class=sidebar-content><a href=https://yutaro-sakamoto.github.io/><h1>坂本優太郎の備忘録</h1></a><p>技術・数学に関することを書いていきます</p><ul class="sidebar-menus sidebar-icons"></ul><ul class=sidebar-menus><li>&#187; <a href=/posts/about>このブログについて</a></li></ul><div class="sidebar-recent hidden-xs"><p>Recent Posts:</p><ul><li><a href=https://yutaro-sakamoto.github.io/posts/about/>このブログについて</a></li></ul></div><p class=copyright>@ Yutaro Sakamoto. All Rights Reserved.</p><p class=attr>Powered by <a href=http://gohugo.io>Hugo</a> & <a href=https://github.com/ExchangeRate-API/strange-case>Strange Case</a> (inspired by <a href=https://github.com/poole/hyde>Hyde</a>).</p></div></div><div class="col-sm-7 col-sm-offset-4 col-md-6 col-md-offset-3 col-lg-5 col-lg-offset-3 content"><div class=post><div class=post-heading><h1>Purescript環境構築用Dockerfile</h1><span class=post-date># Mar 22, 2021</span></div><p>purescriptの環境構築に苦戦することが多いためDockerfileを作成しました.
ビルドすればpurs(コンパイラ)とspago(ビルドツール)が使える状態になっています.
Dockerfileの中でaptを使うのは非推奨らしく,今後できれば対応したいです.</p><p>この記事の執筆時点でのDockerfileを下記に示しますが,更新は
<strong><a href=https://github.com/yutaro-sakamoto/purescript-dockerfile>Dockerfileの置いてあるGithubリポジトリ yutaro-sakamoto/purescript-spago</a></strong>
に対してだけ反映するつもりです.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> ubuntu:20.04</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>LABEL</span> maintainer<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;yutaro-sakamoto@yutaro-sakamoto.com&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apt update -y<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apt upgrade -y<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apt install -y tzdata<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apt install -y nodejs npm git libncurses5<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># install psvm</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> npm install -g psvm<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># install purs</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> psvm install v0.14.0<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> psvm use v0.14.0<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> echo <span style=color:#e6db74>&#39;export PATH=&#34;$PATH:/root/.psvm/current/bin/&#34;&#39;</span> &gt;&gt; ~/.bashrc<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># install spago</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> npm install -g spago<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENTRYPOINT</span> [<span style=color:#e6db74>&#34;/bin/bash&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div></div></div><div class="col-sm-1 col-md-3 col-md-4"></div></div></div><script src=https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=https://yutaro-sakamoto.github.io//js/bootstrap.min.js></script></body></html>